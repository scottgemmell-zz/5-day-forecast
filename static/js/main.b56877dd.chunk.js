(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(49),c=a.n(l),i=a(13),s=a(11),o=a(51),u=a(52),d=a(53),m=a(15),h=a(16),y="FORECASTS_FAILURE",f="FORECASTS_LOADING",p=a(54);var E=Object(s.combineReducers)({forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITY_UPDATED":case"COUNTRY_UPDATED":return Object(h.a)({},e,Object(m.a)({},t.payload.name,t.payload.value));case"RESET":return Object(h.a)({},e,{city:"",country:"",data:""});case"FORECASTS_SUCCESS":return Object(h.a)({},e,{data:t.forecasts});default:return e}},forecastsFailure:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.failure;default:return e}},forecastsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.loading;default:return e}}}),C=(a(74),a(21)),g=a(22),v=a(25),b=a(23),O=a(26),_=a(9),j=a(111),S=a(117),T=a(112),N=a(115),D=a(116),w=a(109),x=a(114),F=a(110),R=function(e){var t=e.id,a=e.name,n=e.value,l=e.title,c=e.helpText,i=e.placeholderText,s=e.handleChange,o=e.handleBlur,u=e.hideLabel,d=e.modifier;return r.a.createElement(D.a,{controlId:t},r.a.createElement(w.a,{className:u?"u-visibility-hidden":""},l)," ",r.a.createElement(x.a,{type:"text",name:a,value:n,placeholder:i,onChange:s,onBlur:o,bsClass:"form-control ".concat(d)}),r.a.createElement(x.a.Feedback,null),c&&r.a.createElement(F.a,null,c))};R.defaultProps={helpText:"",placeholderText:""};var U=R,B=function(e){var t=e.handleCityBlur,a=e.handleCityChange,n=e.handleCountryBlur,l=e.handleCountryChange,c=e.handleSubmit,i=e.handleReset,s=e.hasErrors;return r.a.createElement("header",{className:"header"},r.a.createElement(j.a,null,r.a.createElement("h1",{className:"page-title header__title"},"5-day forecast"),r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title u-visibility-hidden"},"Controls"),r.a.createElement("div",{className:"c-controls"},r.a.createElement(T.a,{inline:!0,onSubmit:c},r.a.createElement("div",{className:"c-controls__inputs"},r.a.createElement(U,{id:"fieldCity",name:"city",placeholderText:"Glasgow",title:"Enter a City",handleBlur:t,handleChange:a,hideLabel:!0,modifier:"c-controls__input c-controls__input--city"})," ",r.a.createElement(U,{id:"fieldCountry",name:"country",placeholderText:"UK",title:"Enter a Country",handleBlur:n,handleChange:l,hideLabel:!0,modifier:"c-controls__input c-controls__input--country"})," "),r.a.createElement("div",{className:"c-controls__actions"},r.a.createElement(N.a,{type:"reset",onClick:i},"Reset")," ",r.a.createElement(N.a,{bsStyle:"primary",disabled:!s,type:"submit"},"Get 5-day forecast")),!s&&r.a.createElement(S.a,{bsStyle:"info",bsClass:"c-controls__alert alert"},"Please enter a ",r.a.createElement("strong",null,"City")," and a ",r.a.createElement("strong",null,"Country")))))))},L=function(e){return{type:y,failure:e}},k=function(e){return{type:f,loading:e}},A=a(113),Y=a(58),I=a.n(Y),P=function(e){var t=parseFloat(e);return t>8?"hot":t>4?"average":"cold"},G=a(59),M=a.n(G),H=a(60),J=a.n(H),W=a(61),q=a.n(W),K=a(62),z=a.n(K),Q=a(63),V=a.n(Q),X=function(e){var t,a=e.item,n=a.dt_txt,l=a.weather,c=a.main.temp;return r.a.createElement("div",{className:"c-day day@small day@medium"},r.a.createElement(A.a,{xs:6,className:"c-day__body"},r.a.createElement("dl",null,r.a.createElement("dt",null,"Day:"),r.a.createElement("dd",{className:"c-day__dayofweek"},(t=n,I()(t,"YYYY-MM-DD HH:mm:ss").format("dddd"))),r.a.createElement("dt",null,"Weather:"),r.a.createElement("dd",null,"Clear"===l[0].main&&r.a.createElement("div",null,"Clear ",r.a.createElement("br",null),r.a.createElement("small",{className:"notice"},"! No weather icon for clear so using thunder")),"Clear"!==l[0].main&&r.a.createElement("div",null,l[0].main)),r.a.createElement("dt",null,"Description:"),r.a.createElement("dd",null,l[0].description),r.a.createElement("dt",null,"Temperature:"),r.a.createElement("dd",null,r.a.createElement("span",{className:"a-temp a-temp--".concat(P(c))},c,"\xb0")))),r.a.createElement(A.a,{xs:6,className:"c-day__head"},"Rain"===l[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:J.a,alt:"Rain"})),"Clouds"===l[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:M.a,alt:"Clouds"})),"Clear"===l[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:z.a,alt:"Clear"})),"Sunny"===l[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:q.a,alt:"Sunny"})),"Snowy"===l[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:V.a,alt:"Snowy"}))))},Z=a(64),$=a.n(Z),ee=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).filterByDays=function(e){return e.filter(function(e,t){return t%8===0})},a.filterByDays=a.filterByDays.bind(Object(_.a)(Object(_.a)(a))),a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forecasts,a=t.list,n=t.city.name,l=e.forecastsLoading,c=e.forecastsFailure,i=this.filterByDays(a);return!0===c?r.a.createElement("div",null):!0===l?r.a.createElement("div",{className:"u-spinner"},r.a.createElement("img",{src:$.a,alt:"Loading..."})):r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Forecasts ",r.a.createElement("em",null,"for")," ",n),r.a.createElement("div",{className:"forecasts l-panels l-panels@small l-panels@medium l-panels@large"},i.map(function(e,t){return r.a.createElement(X,{key:t,item:e})})))}}]),t}(n.Component);ee.defaultProps={forecasts:{list:[],city:{name:""}}};var te=Object(i.b)(function(e){return{forecasts:e.forecasts.data,forecastsFailure:e.forecastsFailure,forecastsLoading:e.forecastsLoading}})(ee),ae=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).getForecasts=function(e){e.preventDefault();var t=a.props;(0,t.getForecastData)({city:t.city,country:t.country})},a.handleCityChange=a.handleCityChange.bind(Object(_.a)(Object(_.a)(a))),a.handleCountryChange=a.handleCountryChange.bind(Object(_.a)(Object(_.a)(a))),a.handleReset=a.handleReset.bind(Object(_.a)(Object(_.a)(a))),a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"handleCityChange",value:function(e){var t=this.props.cityUpdated,a=e.target;t({name:a.name,value:a.value})}},{key:"handleCountryChange",value:function(e){var t=this.props.countryUpdated,a=e.target;t({name:a.name,value:a.value})}},{key:"handleReset",value:function(){(0,this.props.reset)()}},{key:"render",value:function(){var e=this.props,t=e.city,a=e.country,n=e.data,l=e.forecastsFailure;return r.a.createElement("div",{className:"app"},r.a.createElement(B,{handleCityChange:this.handleCityChange,handleCountryChange:this.handleCountryChange,handleCityBlur:this.handleCityChange,handleCountryBlur:this.handleCountryChange,handleReset:this.handleReset,handleSubmit:this.getForecasts,hasErrors:t&&a}),r.a.createElement(j.a,null,""!==n&&r.a.createElement(te,null),!0===l&&r.a.createElement("div",null,r.a.createElement("h2",{className:"section-title"},"Error :("),r.a.createElement(S.a,{bsStyle:"danger",bsClass:"c-controls__alert alert"},"Invalid ",r.a.createElement("strong",null,"City")," and/or ",r.a.createElement("strong",null,"Country")))))}}]),t}(n.Component),ne=Object(i.b)(function(e){return{city:e.forecasts.city,country:e.forecasts.country,data:e.forecasts.data,forecastsFailure:e.forecastsFailure,forecastsLoading:e.forecastsLoading}},{cityUpdated:function(e){return{type:"CITY_UPDATED",payload:e}},countryUpdated:function(e){return{type:"COUNTRY_UPDATED",payload:e}},reset:function(){return{type:"RESET"}},getForecastData:function(e){var t=e.city,a=e.country;return function(e){e(k(!0)),fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,",").concat(a,"&units=metric&appid=").concat("e9d4c67ad81c4d73f2ad231f6092f6c3")).then(function(t){if(!t.ok)throw Error(t.statusText);return e(k(!1)),e(L(!1)),t}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"FORECASTS_SUCCESS",forecasts:e}}(t))}).catch(function(){e(L(!0))})}}})(ae),re=Object(o.createLogger)({collapsed:!0,diff:!0}),le=Object(u.composeWithDevTools)({}),ce=Object(s.createStore)(E,le(Object(s.applyMiddleware)(d.a,re)));c.a.render(r.a.createElement(i.a,{store:ce},r.a.createElement(ne,null)),document.getElementById("root"))},54:function(e){e.exports={city:"",country:"",data:""}},59:function(e,t,a){e.exports=a.p+"static/media/cloudy.ad789581.svg"},60:function(e,t,a){e.exports=a.p+"static/media/rainy-5.2bd23641.svg"},61:function(e,t,a){e.exports=a.p+"static/media/day.7f93fbdb.svg"},62:function(e,t,a){e.exports=a.p+"static/media/thunder.7142c78b.svg"},63:function(e,t,a){e.exports=a.p+"static/media/snowy-6.67d63a14.svg"},64:function(e,t,a){e.exports=a.p+"static/media/spinner.99d7ceaa.svg"},65:function(e,t,a){e.exports=a(108)},74:function(e,t,a){}},[[65,2,1]]]);
//# sourceMappingURL=main.b56877dd.chunk.js.map