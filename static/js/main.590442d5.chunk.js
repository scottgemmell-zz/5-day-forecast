(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),l=a.n(c),o=a(10),i=a(13),s=a(51),u=a(52),d=a(53),m=(a(73),a(16)),f=a(17),p=a(20),y=a(18),E=a(19),h=a(110),v=a(118),b=a(11),g="[FORECASTS]",O="".concat(g," FETCH"),_="".concat(g," SET"),j=function(e){var t=e.forecasts;return{type:_,payload:t}},C=a(111),S=a(117),T=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).getForecasts=function(e){e.preventDefault(),(0,a.props.fetchForecasts)({city:a.cityInput.value,country:a.countryInput.value})},a.getForecasts=a.getForecasts.bind(Object(b.a)(Object(b.a)(a))),a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.cityInput.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"header"},r.a.createElement(h.a,null,r.a.createElement("h1",{className:"page-title header__title"},"5-day forecast"),r.a.createElement("section",null,r.a.createElement("div",{className:"c-controls"},r.a.createElement(C.a,{inline:!0,onSubmit:this.getForecasts},r.a.createElement("div",{className:"c-controls__inputs"},r.a.createElement(F,{inputRef:function(t){e.cityInput=t},id:"fieldCity",name:"city",placeholderText:"Glasgow",title:"Enter a City",hideLabel:!0,modifier:"c-controls__input c-controls__input--city"})," ",r.a.createElement(F,{inputRef:function(t){e.countryInput=t},id:"fieldCountry",name:"country",placeholderText:"UK",title:"Enter a Country",hideLabel:!0,modifier:"c-controls__input c-controls__input--country"})),r.a.createElement("div",{className:"c-controls__actions"},r.a.createElement(S.a,{bsStyle:"primary",type:"submit"},"Get 5-day forecast")))))))}}]),t}(n.Component),N=Object(o.b)(null,{fetchForecasts:function(e){var t=e.city,a=e.country;return{type:O,payload:{city:t,country:a}}}})(T),w=a(119),I=a(112),x=a(116),R=a(113),D=function(e){var t=e.id,a=e.name,n=e.value,c=e.title,l=e.helpText,o=e.placeholderText,i=e.hideLabel,s=e.modifier,u=e.inputRef;return r.a.createElement(w.a,{controlId:t},r.a.createElement(I.a,{className:i?"u-visibility-hidden":""},c)," ",r.a.createElement(x.a,{inputRef:u,type:"text",name:a,value:n,placeholder:o,bsClass:"form-control ".concat(s)}),r.a.createElement(x.a.Feedback,null),l&&r.a.createElement(R.a,null,l))};D.defaultProps={helpText:"",placeholderText:""};var F=D,k=a(57),A=a.n(k),L=a(114),P=a(58),B=a.n(P),M=function(e){var t=parseFloat(e);return t>8?"hot":t>4?"average":"cold"},U=a(59),Y=a.n(U),G=a(60),H=a.n(G),J=a(61),W=a.n(J),q=a(62),K=a.n(q),Q=a(63),z=a.n(Q),V=a(115),X=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e)))._filterByDays=function(e){return e.filter(function(e,t){return t%8===0})},a.filterByDays=a._filterByDays.bind(Object(b.a)(Object(b.a)(a))),a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forecasts,a=e.forecasts.list,n=e.loading;if(V.a(t))return r.a.createElement("div",null);if(!0===n)return r.a.createElement("div",{className:"u-spinner"},r.a.createElement("img",{src:A.a,alt:"Loading..."}));var c=this._filterByDays(a);return r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Forecasts ",r.a.createElement("em",null,"for")," ",this.props.forecasts.city.name),r.a.createElement("div",{className:"forecasts l-panels l-panels@small l-panels@medium l-panels@large"},c.map(function(e,t){var a,n=e.dt_txt,c=e.weather,l=e.main.temp;return r.a.createElement("div",{key:t,className:"c-day c-day@small c-day@medium"},r.a.createElement(L.a,{xs:6,className:"c-day__body"},r.a.createElement("dl",null,r.a.createElement("dt",null,"Day:"),r.a.createElement("dd",null,(a=n,B()(a,"YYYY-MM-DD HH:mm:ss").format("dddd"))),r.a.createElement("dt",null,"Weather:"),r.a.createElement("dd",null,"Clear"===c[0].main&&r.a.createElement("div",null,"Clear ",r.a.createElement("br",null),r.a.createElement("small",{className:"notice"},"! No weather icon for clear so using thunder")),"Clear"!==c[0].main&&r.a.createElement("div",null,c[0].main)),r.a.createElement("dt",null,"Description:"),r.a.createElement("dd",null,c[0].description),r.a.createElement("dt",null,"Temperature:"),r.a.createElement("dd",null,r.a.createElement("span",{className:"a-temp a-temp--".concat(M(l))},l,"\xb0")))),r.a.createElement(L.a,{xs:6,className:"c-day__head"},"Rain"===c[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:H.a,alt:"Rain"})),"Clouds"===c[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:Y.a,alt:"Clouds"})),"Clear"===c[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:K.a,alt:"Clear"})),"Sunny"===c[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:W.a,alt:"Sunny"})),"Snowy"===c[0].main&&r.a.createElement("div",null,r.a.createElement("img",{src:z.a,alt:"Snowy"}))))})))}}]),t}(n.Component);X.defaultProps={forecasts:{list:"",city:{name:""}}};var Z=Object(o.b)(function(e){return{forecasts:e.forecasts,loading:e.ui.loading}})(X),$=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.notification;return r.a.createElement("div",{className:"app"},r.a.createElement(N,null),r.a.createElement(h.a,null,""===e.message?r.a.createElement(Z,null):r.a.createElement("div",null,r.a.createElement("h2",{className:"section-title"},"Error :("),r.a.createElement(v.a,{bsStyle:"danger",bsClass:"c-controls__alert alert"},"Invalid ",r.a.createElement("strong",null,"City")," and/or ",r.a.createElement("strong",null,"Country"),". [",e.message,"]"))))}}]),t}(n.Component),ee=Object(o.b)(function(e){return{notification:e.notification}})($),te={},ae="API_REQUEST";var ne=function(e){return{type:"SET_LOADER",payload:e.state,meta:{feature:e.feature}}},re=function(e){return{type:"SET_NOTIFICATION",payload:e.message,meta:{status:e.status,feature:e.feature}}};function ce(e){var t=e.city,a=e.country;return"https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,",").concat(a,"&units=metric&appid=e9d4c67ad81c4d73f2ad231f6092f6c3")}var le=a(27),oe={loading:!1},ie={message:""},se=Object(s.createLogger)({collapsed:!0,diff:!0}),ue=Object(u.composeWithDevTools)({}),de=Object(i.combineReducers)({forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(!0){case t.type.includes("SET_LOADER"):return Object(le.a)({},e,{loading:t.payload});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(!0){case t.type.includes("SET_NOTIFICATION"):return Object(le.a)({},e,{message:t.payload});default:return e}}}),me=[function(){return function(e){return function(t){switch(e(t),t.type){case O:e(function(e){var t=e.body,a=e.method,n=e.url,r=e.feature;return{type:"".concat(r," ").concat(ae),payload:t,meta:{method:a,url:n,feature:r}}}({body:null,method:"GET",url:ce({city:t.payload.city,country:t.payload.country}),feature:g})),e(ne({state:!0,feature:g}));break;case"".concat(g," ").concat("API_SUCCESS"):e(j({forecasts:t.payload})),e(re({message:"",feature:g})),e(ne({state:!1,feature:g}));break;case"".concat(g," ").concat("API_ERROR"):e(j({forecasts:t.payload})),e(re({message:t.payload.message,feature:g})),e(ne({state:!1,feature:g}))}}}}],fe=[function(e){var t=e.dispatch;return function(e){return function(a){if(e(a),a.type.includes(ae)){var n=a.meta,r=n.url,c=n.method,l=n.feature;fetch(r,{method:c}).then(function(e){if(e.status>=200&&e.status<300)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).then(function(e){return t(function(e,t){return{type:"".concat(t," ").concat("API_SUCCESS"),payload:e,meta:{feature:t}}}(e,l))}).catch(function(e){return t(function(e){var t=e.error,a=e.feature;return{type:"".concat(a," ").concat("API_ERROR"),payload:t,meta:{feature:a}}}({error:e,feature:l}))})}}}}],pe=Object(i.createStore)(de,ue(i.applyMiddleware.apply(void 0,[d.a].concat(me,fe,[se]))));l.a.render(r.a.createElement(o.a,{store:pe},r.a.createElement(ee,null)),document.getElementById("root"))},57:function(e,t,a){e.exports=a.p+"static/media/spinner.99d7ceaa.svg"},59:function(e,t,a){e.exports=a.p+"static/media/cloudy.ad789581.svg"},60:function(e,t,a){e.exports=a.p+"static/media/rainy-5.2bd23641.svg"},61:function(e,t,a){e.exports=a.p+"static/media/day.7f93fbdb.svg"},62:function(e,t,a){e.exports=a.p+"static/media/thunder.7142c78b.svg"},63:function(e,t,a){e.exports=a.p+"static/media/snowy-6.67d63a14.svg"},64:function(e,t,a){e.exports=a(108)},73:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.590442d5.chunk.js.map